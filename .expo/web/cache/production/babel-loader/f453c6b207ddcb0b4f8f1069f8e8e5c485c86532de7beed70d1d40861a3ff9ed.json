{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Main.scss';import{getRecipes}from'../../../DataBase/Database';import ReciepeCard from'../../../ContainerComponents/ReciepeCard/ReciepeCard';import{useParams}from'react-router-dom';import Header from'../../../ContainerComponents/Header/Header';import Loading from'../../Helper Screens/Loading/Loading';import{getFilterData,getSearchData}from'../../../Utils/UtilsGeneral';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){const[data,setData]=useState({initial:[],value:[]});const[loading,setLoading]=useState(false);const[type,setType]=useState('');const{userString}=useParams();const user=JSON.parse(decodeURIComponent(userString));const filterFunction=e=>{setType(e);let new_arr=getFilterData(data.initial,'type',e);setData(Object.assign({},data,{value:new_arr}));return new_arr;};const searchFunction=e=>{let new_arr=getSearchData(data.initial,'title',e);setData(Object.assign({},data,{value:new_arr}));return new_arr;};const getData=async()=>{setLoading(true);const d=await getRecipes(user.id);setData({initial:d,value:d});setLoading(false);};useEffect(()=>{getData();},[]);const getBody=()=>{if(loading)return _jsx(Loading,{});else{return _jsxs(_Fragment,{children:[_jsx(Header,{user:user,searchFunction:searchFunction,type:type,filterFunction:filterFunction}),_jsx(\"div\",{className:\"main_body_container\",children:data.value.length===0?_jsx(\"p\",{className:\"main_empty\",children:\"Empty\"}):data.value.map((item,index)=>_jsx(ReciepeCard,{id:item.id,title:item.title,type:item.type,image:item.image,user:user},index))})]});}};return _jsx(\"div\",{className:\"main_container\",children:getBody()});}export default Main;","map":{"version":3,"names":["React","useEffect","useState","getRecipes","ReciepeCard","useParams","Header","Loading","getFilterData","getSearchData","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Main","data","setData","initial","value","loading","setLoading","type","setType","userString","user","JSON","parse","decodeURIComponent","filterFunction","e","new_arr","Object","assign","searchFunction","getData","d","id","getBody","children","className","length","map","item","index","title","image"],"sources":["C:/Users/Admin1/Desktop/CookingWebsite/my-app/src/Screens/Main Screens/Main/Main.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport './Main.scss'\r\nimport { getRecipes } from '../../../DataBase/Database';\r\nimport ReciepeCard from '../../../ContainerComponents/ReciepeCard/ReciepeCard';\r\nimport { useParams } from 'react-router-dom';\r\nimport Header from '../../../ContainerComponents/Header/Header'\r\nimport Loading from '../../Helper Screens/Loading/Loading';\r\nimport { getFilterData, getSearchData } from '../../../Utils/UtilsGeneral';\r\nfunction Main() {\r\n  const [data,setData] = useState({initial:[],value:[]})\r\n  const [loading, setLoading] = useState(false);\r\n  const [type,setType] = useState('')\r\n  const { userString } = useParams();\r\n  const user = JSON.parse(decodeURIComponent(userString));\r\n    const filterFunction = e =>{\r\n      setType(e)\r\n      let new_arr = getFilterData(data.initial, 'type', e)\r\n      setData({ ...data, value: new_arr })\r\n      return new_arr\r\n    }\r\n    const searchFunction = e =>{\r\n      let new_arr = getSearchData(data.initial, 'title', e)\r\n      setData({ ...data, value: new_arr })\r\n      return new_arr    \r\n    }\r\n\r\n    const getData = async () =>{\r\n      setLoading(true)\r\n      const d = await getRecipes(user.id);\r\n      setData({initial:d,value:d})\r\n      setLoading(false)\r\n    }\r\n\r\n    useEffect(() =>{\r\n      getData()\r\n    },[])\r\n\r\n    const getBody = () =>{\r\n      if(loading)\r\n        return(<Loading />)\r\n      else{\r\n        return(\r\n          <>\r\n            <Header user={user} searchFunction={searchFunction} type={type} filterFunction={filterFunction} />\r\n            <div className='main_body_container'>\r\n              {data.value.length === 0 ?\r\n                <p className='main_empty'>Empty</p> :\r\n                (data.value.map((item,index) =>(\r\n                <ReciepeCard key={index} id={item.id} title={item.title} type={item.type} image={item.image} user={user} />\r\n              )))}\r\n            </div>\r\n          </>   \r\n        )\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div className='main_container'>\r\n      {getBody()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}