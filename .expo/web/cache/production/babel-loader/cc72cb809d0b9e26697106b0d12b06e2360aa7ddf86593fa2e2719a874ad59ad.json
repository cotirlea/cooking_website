{"ast":null,"code":"import React,{useState}from'react';import'./LogIn.scss';import Button from'./../../../UtilityComponents/SimpleUtilityComponents/Button/Button';import CheckBox from'../../../UtilityComponents/SimpleUtilityComponents/CheckBox/CheckBox';import Loading from'../../Helper Screens/Loading/Loading';import Erorr from'../../Helper Screens/Error/Error';import{validateLogIn,validateSignIn}from'../../../Utils/ValidatorLogIn';import{getUser,addUser}from'./../../../DataBase/Database';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LogIn(){const navigate=useNavigate();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[confirm,setConfirm]=useState('');const[isNew,setIsNew]=useState(false);const[animationClass,setAnimationClass]=useState('fade-in');const[loading,setLoading]=useState(false);const[errors,setErrors]=useState([]);const handleUsername=e=>{setUsername(e.target.value);};const handlePassword=e=>{setPassword(e.target.value);};const handleConfirm=e=>{setConfirm(e.target.value);};const validate=async()=>{if(isNew)return await validateSignIn(username,password,confirm);return await validateLogIn(username,password);};const retriveUser=async()=>{if(isNew)return await addUser(username,password);return await getUser(username,password);};const handleLoading=async()=>{setLoading(true);let err=await validate();if(err.length>0)setLoading(false);setErrors(err);if(err.length===0){const user=await retriveUser();const userString=encodeURIComponent(JSON.stringify(user));navigate('/main/'+userString);setLoading(false);}};const handleNew=()=>{setAnimationClass('fade-out');setTimeout(()=>{setIsNew(!isNew);setAnimationClass('fade-in');},500);};const submit=()=>{handleLoading();};const getBody=()=>{if(loading)return _jsx(Loading,{});else{return _jsxs(\"div\",{className:\"login_body_container\",children:[_jsxs(\"div\",{className:\"login_text_container\",children:[_jsx(\"p\",{className:`login_headline ${animationClass}`,children:isNew?'Sign In':'Log In'}),_jsx(\"p\",{className:'login_text',children:\"for the purpose of this demo, the username and password for an existing account is: user1 and pass1\"})]}),_jsxs(\"div\",{className:\"login_input_container\",children:[_jsx(CheckBox,{text:'new here?',checked:isNew,handleChange:handleNew}),_jsx(\"input\",{className:\"login_input\",placeholder:\"username\",value:username,onChange:handleUsername}),_jsx(\"input\",{className:\"login_input\",placeholder:\"password\",value:password,onChange:handlePassword}),isNew?_jsx(\"input\",{className:`login_input ${animationClass}`,placeholder:\"confirm password\",value:confirm,onChange:handleConfirm}):null]}),_jsx(Button,{name:'submit',handleFunction:submit,buttonStyle:'login_button',containerStyle:'login_button_container'})]});}};return _jsxs(\"div\",{className:\"login_container\",children:[errors.length===0?getBody():_jsx(Erorr,{erros:errors,setErrors:setErrors}),_jsx(\"img\",{src:require('../../../Assets/images/loging.jpg'),alt:\"\",className:\"login_image\"})]});}export default LogIn;","map":{"version":3,"names":["React","useState","Button","CheckBox","Loading","Erorr","validateLogIn","validateSignIn","getUser","addUser","useNavigate","jsx","_jsx","jsxs","_jsxs","LogIn","navigate","username","setUsername","password","setPassword","confirm","setConfirm","isNew","setIsNew","animationClass","setAnimationClass","loading","setLoading","errors","setErrors","handleUsername","e","target","value","handlePassword","handleConfirm","validate","retriveUser","handleLoading","err","length","user","userString","encodeURIComponent","JSON","stringify","handleNew","setTimeout","submit","getBody","className","children","text","checked","handleChange","placeholder","onChange","name","handleFunction","buttonStyle","containerStyle","erros","src","require","alt"],"sources":["C:/Users/Admin1/Desktop/CookingWebsite/my-app/src/Screens/Main Screens/LogIn/LogIn.js"],"sourcesContent":["import React,{useState} from 'react'\r\nimport './LogIn.scss'\r\nimport Button from './../../../UtilityComponents/SimpleUtilityComponents/Button/Button'\r\nimport CheckBox from '../../../UtilityComponents/SimpleUtilityComponents/CheckBox/CheckBox'\r\nimport Loading from '../../Helper Screens/Loading/Loading'\r\nimport Erorr from '../../Helper Screens/Error/Error'\r\nimport { validateLogIn,validateSignIn } from '../../../Utils/ValidatorLogIn'\r\nimport { getUser,addUser } from './../../../DataBase/Database'\r\nimport { useNavigate } from 'react-router-dom';\r\nfunction LogIn() {\r\n  const navigate = useNavigate();\r\n  \r\n  const [username,setUsername] = useState('')\r\n  const [password,setPassword] = useState('')\r\n  const [confirm,setConfirm] = useState('')\r\n  const [isNew,setIsNew] = useState(false)\r\n  const [animationClass, setAnimationClass] = useState('fade-in');\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors,setErrors] = useState([])\r\n\r\n  const handleUsername = e =>{setUsername(e.target.value)}\r\n  const handlePassword = e =>{setPassword(e.target.value)}\r\n  const handleConfirm = e =>{setConfirm(e.target.value)}\r\n  \r\n  const validate = async () =>{\r\n        if(isNew)\r\n          return await validateSignIn(username,password,confirm)\r\n        return await validateLogIn(username,password)\r\n  }\r\n\r\n  const retriveUser = async () =>{\r\n        if(isNew)\r\n          return await addUser(username,password)\r\n        return await getUser(username,password)\r\n    }\r\n  \r\n  const handleLoading = async () =>{\r\n    setLoading(true)\r\n     let err = await validate();\r\n\r\n        if(err.length > 0)\r\n          setLoading(false)          \r\n        setErrors(err);\r\n        if(err.length === 0){\r\n            const user = await retriveUser()\r\n            const userString = encodeURIComponent(JSON.stringify(user));\r\n            navigate('/main/'+userString);\r\n            setLoading(false)\r\n        }\r\n  }\r\n  const handleNew = () => {\r\n    setAnimationClass('fade-out');\r\n    setTimeout(() => {\r\n      setIsNew(!isNew);\r\n      setAnimationClass('fade-in');\r\n    }, 500);\r\n  };\r\n  const submit = () =>{\r\n    handleLoading()\r\n  }\r\n\r\n  const getBody = () => {\r\n    if(loading)\r\n      return(\r\n        <Loading  />\r\n      )\r\n    else{\r\n      return(\r\n        <div className='login_body_container'>\r\n          <div className='login_text_container'>\r\n            <p className={`login_headline ${animationClass}`}>{isNew ? 'Sign In' : 'Log In'}</p>\r\n            <p className={'login_text'}>for the purpose of this demo, the username and password for an existing account is: user1 and pass1</p>\r\n          </div>\r\n          <div className='login_input_container'>\r\n            <CheckBox text={'new here?'} checked={isNew} handleChange={handleNew} />\r\n            <input className='login_input' placeholder='username' value={username} onChange={handleUsername} />\r\n            <input className='login_input' placeholder='password' value={password} onChange={handlePassword} />\r\n            {isNew ? <input className={`login_input ${animationClass}`} placeholder='confirm password' value={confirm} onChange={handleConfirm} /> : null}\r\n          </div>\r\n          <Button name={'submit'} handleFunction={submit} buttonStyle={'login_button'} containerStyle={'login_button_container'} />\r\n      </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='login_container'>\r\n      {errors.length === 0 ? getBody() : <Erorr erros={errors} setErrors={setErrors} />}      \r\n      <img src={require('../../../Assets/images/loging.jpg')} alt=\"\" className=\"login_image\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LogIn"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}